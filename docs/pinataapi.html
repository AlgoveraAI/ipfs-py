---

title: Pinata


keywords: fastai
sidebar: home_sidebar

summary: "Python API for interacting with Pinata"
description: "Python API for interacting with Pinata"
nb_path: "nbs/03_pinataapi.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/03_pinataapi.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;creds.json&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    
    <span class="n">creds</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())[</span><span class="s2">&quot;Pinata&quot;</span><span class="p">][</span><span class="s2">&quot;JWT&quot;</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="generate_apikey" class="doc_header"><code>generate_apikey</code><a href="https://github.com/AlgoveraAI/ipfspy/tree/master/ipfspy/pinataapi.py#L12" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>generate_apikey</code>(<strong><code>cred</code></strong>:<code>str</code>, <strong><code>key_name</code></strong>:<code>str</code>, <strong><code>pinlist</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>userPinnedDataTotal</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>hashMetadata</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>hashPinPolicy</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>pinByHash</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>pinFileToIPFS</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>pinJSONToIPFS</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>pinJobs</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>unpin</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>userPinPolicy</code></strong>:<code>bool</code>=<em><code>True</code></em>)</p>
</blockquote>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>cred</code></strong></td>
<td><code>str</code></td>
<td></td>
<td>JWT</td>
</tr>
<tr>
<td><strong><code>key_name</code></strong></td>
<td><code>str</code></td>
<td></td>
<td>Key name</td>
</tr>
<tr>
<td><strong><code>pinlist</code></strong></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>list pins</td>
</tr>
<tr>
<td><strong><code>userPinnedDataTotal</code></strong></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>total data stored</td>
</tr>
<tr>
<td><strong><code>hashMetadata</code></strong></td>
<td><code>bool</code></td>
<td><code>True</code></td>
<td>metadata</td>
</tr>
<tr>
<td><strong><code>hashPinPolicy</code></strong></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>policy</td>
</tr>
<tr>
<td><strong><code>pinByHash</code></strong></td>
<td><code>bool</code></td>
<td><code>True</code></td>
<td>pin cid</td>
</tr>
<tr>
<td><strong><code>pinFileToIPFS</code></strong></td>
<td><code>bool</code></td>
<td><code>True</code></td>
<td>upload file to IPFS</td>
</tr>
<tr>
<td><strong><code>pinJSONToIPFS</code></strong></td>
<td><code>bool</code></td>
<td><code>True</code></td>
<td>upload json to IPFS</td>
</tr>
<tr>
<td><strong><code>pinJobs</code></strong></td>
<td><code>bool</code></td>
<td><code>True</code></td>
<td>see pin jobs</td>
</tr>
<tr>
<td><strong><code>unpin</code></strong></td>
<td><code>bool</code></td>
<td><code>True</code></td>
<td>unpin ipfs cid</td>
</tr>
<tr>
<td><strong><code>userPinPolicy</code></strong></td>
<td><code>bool</code></td>
<td><code>True</code></td>
<td>establish pin policy</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Generate API Key</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">response</span> <span class="o">=</span> <span class="n">generate_apikey</span><span class="p">(</span><span class="n">creds</span><span class="p">,</span><span class="s2">&quot;Test&quot;</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;pinata_api_key&#39;: &#39;443e2dadf1e6a47c2754&#39;,
 &#39;pinata_api_secret&#39;: &#39;0f84d67fe64136d4d9ddbfb1235a8ab1fd490f12c1f6fcc532b758062695a1dc&#39;,
 &#39;JWT&#39;: &#39;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiJkMjhmMjBjZi1kZmUwLTRjOGYtOTI3Mi0yNmI5YzJkOGEzY2QiLCJlbWFpbCI6InZpbnRhZ2Vnb2xkMTIzQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJwaW5fcG9saWN5Ijp7InJlZ2lvbnMiOlt7ImlkIjoiTllDMSIsImRlc2lyZWRSZXBsaWNhdGlvbkNvdW50IjoxfV0sInZlcnNpb24iOjF9LCJtZmFfZW5hYmxlZCI6ZmFsc2UsInN0YXR1cyI6IkFDVElWRSJ9LCJhdXRoZW50aWNhdGlvblR5cGUiOiJzY29wZWRLZXkiLCJzY29wZWRLZXlLZXkiOiI0NDNlMmRhZGYxZTZhNDdjMjc1NCIsInNjb3BlZEtleVNlY3JldCI6IjBmODRkNjdmZTY0MTM2ZDRkOWRkYmZiMTIzNWE4YWIxZmQ0OTBmMTJjMWY2ZmNjNTMyYjc1ODA2MjY5NWExZGMiLCJpYXQiOjE2NTg0OTk3NDF9.Rd4F1zBE8wTPIwi4mD1x3pdEnfEM2Ik7zjiw0vQ7AC8&#39;}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="list_apikeys" class="doc_header"><code>list_apikeys</code><a href="https://github.com/AlgoveraAI/ipfspy/tree/master/ipfspy/pinataapi.py#L61" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>list_apikeys</code>(<strong><code>cred</code></strong>:<code>str</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>List API Keys</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">newest_apikey</span> <span class="o">=</span> <span class="n">list_apikeys</span><span class="p">(</span><span class="n">creds</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;keys&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">];</span><span class="n">newest_apikey</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;id&#39;: &#39;1ff9d58d-d7fa-4598-9863-c53a806faff6&#39;,
 &#39;name&#39;: &#39;Test&#39;,
 &#39;key&#39;: &#39;443e2dadf1e6a47c2754&#39;,
 &#39;secret&#39;: &#39;ed7a3bdc89fb353b6c4f4155a9adb7f5:d15adb31f816663e2612ff5f89a5497abc30a5100ab83575247ba67cc9d49a7d61293d77c94049a8d83a82d8f02423357f311b26204bb57e7be9181d324e6424&#39;,
 &#39;max_uses&#39;: None,
 &#39;uses&#39;: 0,
 &#39;user_id&#39;: &#39;d28f20cf-dfe0-4c8f-9272-26b9c2d8a3cd&#39;,
 &#39;scopes&#39;: {&#39;endpoints&#39;: {&#39;data&#39;: {&#39;pinList&#39;: False,
    &#39;userPinnedDataTotal&#39;: False},
   &#39;pinning&#39;: {&#39;unpin&#39;: True,
    &#39;pinJobs&#39;: True,
    &#39;pinByHash&#39;: True,
    &#39;hashMetadata&#39;: True,
    &#39;hashPinPolicy&#39;: False,
    &#39;pinFileToIPFS&#39;: True,
    &#39;pinJSONToIPFS&#39;: True,
    &#39;userPinPolicy&#39;: True}}},
 &#39;revoked&#39;: False,
 &#39;createdAt&#39;: &#39;2022-07-22T14:22:21.191Z&#39;,
 &#39;updatedAt&#39;: &#39;2022-07-22T14:22:21.191Z&#39;}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="revoke_apikey" class="doc_header"><code>revoke_apikey</code><a href="https://github.com/AlgoveraAI/ipfspy/tree/master/ipfspy/pinataapi.py#L77" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>revoke_apikey</code>(<strong><code>cred</code></strong>:<code>str</code>, <strong><code>revoke_apikey</code></strong>:<code>str</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Revoke API Key</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">revoke_apikey</span><span class="p">(</span><span class="n">creds</span><span class="p">,</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;JWT&quot;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;Response [200]&gt;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="upload_file" class="doc_header"><code>upload_file</code><a href="https://github.com/AlgoveraAI/ipfspy/tree/master/ipfspy/pinataapi.py#L96" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>upload_file</code>(<strong><code>cred</code></strong>:<code>str</code>, <strong><code>name</code></strong>:<code>str</code>, <strong><code>fpaths</code></strong>:<code>list</code>, <strong><code>metadata</code></strong>:<code>dict</code>, <strong><code>cid_version</code></strong>:<code>str</code>=<em><code>'1'</code></em>, <strong><code>directory</code></strong>:<code>bool</code>=<em><code>False</code></em>)</p>
</blockquote>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>cred</code></strong></td>
<td><code>str</code></td>
<td></td>
<td>JWT key</td>
</tr>
<tr>
<td><strong><code>name</code></strong></td>
<td><code>str</code></td>
<td></td>
<td>filename</td>
</tr>
<tr>
<td><strong><code>fpaths</code></strong></td>
<td><code>list</code></td>
<td></td>
<td>filepaths</td>
</tr>
<tr>
<td><strong><code>metadata</code></strong></td>
<td><code>dict</code></td>
<td></td>
<td>metadata</td>
</tr>
<tr>
<td><strong><code>cid_version</code></strong></td>
<td><code>str</code></td>
<td><code>1</code></td>
<td>IPFS cid</td>
</tr>
<tr>
<td><strong><code>directory</code></strong></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>upload directory</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Upload File to IPFS with metadata</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;AdultData&quot;</span><span class="p">}</span>

<span class="n">upload_file</span><span class="p">(</span><span class="n">creds</span><span class="p">,</span><span class="s2">&quot;adult_data.csv&quot;</span><span class="p">,</span><span class="s2">&quot;output/adult_data.csv&quot;</span><span class="p">,</span><span class="n">metadata</span><span class="p">,</span><span class="n">cid_version</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">directory</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;{&#34;IpfsHash&#34;:&#34;bafybeibcsnxt2sqzsvfg4lzg3iuxkfit37l3rz5gqmdxwsgec56qalmxie&#34;,&#34;PinSize&#34;:3975284,&#34;Timestamp&#34;:&#34;2022-06-17T22:43:08.303Z&#34;,&#34;isDuplicate&#34;:true}&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="upload_jsonfile" class="doc_header"><code>upload_jsonfile</code><a href="https://github.com/AlgoveraAI/ipfspy/tree/master/ipfspy/pinataapi.py#L129" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>upload_jsonfile</code>(<strong><code>cred</code></strong>:<code>str</code>, <strong><code>name</code></strong>:<code>str</code>, <strong><code>fpaths</code></strong>:<code>list</code>, <strong><code>metadata</code></strong>:<code>dict</code>, <strong><code>cid_version</code></strong>:<code>str</code>, <strong><code>directory</code></strong>:<code>bool</code>=<em><code>False</code></em>)</p>
</blockquote>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>cred</code></strong></td>
<td><code>str</code></td>
<td></td>
<td>JWT key</td>
</tr>
<tr>
<td><strong><code>name</code></strong></td>
<td><code>str</code></td>
<td></td>
<td>filename</td>
</tr>
<tr>
<td><strong><code>fpaths</code></strong></td>
<td><code>list</code></td>
<td></td>
<td>filepaths</td>
</tr>
<tr>
<td><strong><code>metadata</code></strong></td>
<td><code>dict</code></td>
<td></td>
<td>metadata</td>
</tr>
<tr>
<td><strong><code>cid_version</code></strong></td>
<td><code>str</code></td>
<td></td>
<td>IPFS cid</td>
</tr>
<tr>
<td><strong><code>directory</code></strong></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>upload directory</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This endpoint is optimized for JSON files</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Vote&quot;</span><span class="p">}</span>

<span class="n">upload_jsonfile</span><span class="p">(</span><span class="n">creds</span><span class="p">,</span><span class="s2">&quot;ens_airdrop_Nov8th2021.json&quot;</span><span class="p">,</span><span class="s2">&quot;output/ens_airdrop_Nov8th2021.json&quot;</span><span class="p">,</span><span class="n">metadata</span><span class="p">,</span><span class="n">cid_version</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">directory</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;{&#34;IpfsHash&#34;:&#34;bafkreid56by3qspgyxvppq3ggj2x4tec3akpnlffbhangjzzfc3lfh66yq&#34;,&#34;PinSize&#34;:45,&#34;Timestamp&#34;:&#34;2022-07-22T14:29:51.674Z&#34;,&#34;isDuplicate&#34;:true}&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="pin" class="doc_header"><code>pin</code><a href="https://github.com/AlgoveraAI/ipfspy/tree/master/ipfspy/pinataapi.py#L159" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>pin</code>(<strong><code>cred</code></strong>:<code>str</code>, <strong><code>cid</code></strong>:<code>str</code>, <strong><code>fn</code></strong>=<em><code>None</code></em>, <strong><code>pinataMetadata</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>cred</code></strong></td>
<td><code>str</code></td>
<td></td>
<td>JWT key</td>
</tr>
<tr>
<td><strong><code>cid</code></strong></td>
<td><code>str</code></td>
<td></td>
<td>IPFS cid</td>
</tr>
<tr>
<td><strong><code>fn</code></strong></td>
<td></td>
<td><code>None</code></td>
<td>Name of file</td>
</tr>
<tr>
<td><strong><code>pinataMetadata</code></strong></td>
<td></td>
<td><code>None</code></td>
<td>Add keys and values associated with IPFS CID</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Pin files</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;dApp&quot;</span><span class="p">:</span><span class="s2">&quot;Ethereum Name Service&quot;</span><span class="p">,</span>
            <span class="s2">&quot;token&quot;</span><span class="p">:</span><span class="s2">&quot;ENS&quot;</span>
           <span class="p">}</span>

<span class="n">pin</span><span class="p">(</span><span class="n">creds</span><span class="p">,</span><span class="s2">&quot;QmUUSHH2ycqciruPaRcptpUQDDeRiMV3G9PxA6KUupXTJV&quot;</span><span class="p">,</span><span class="n">fn</span><span class="o">=</span><span class="s2">&quot;ens_airdrop&quot;</span><span class="p">,</span><span class="n">pinataMetadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>{&#34;id&#34;:&#34;8cba5496-3cd4-4edb-92d7-023c0ce9c145&#34;,&#34;ipfsHash&#34;:&#34;QmUUSHH2ycqciruPaRcptpUQDDeRiMV3G9PxA6KUupXTJV&#34;,&#34;status&#34;:&#34;prechecking&#34;,&#34;name&#34;:&#34;ens_airdrop&#34;}
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="unpin" class="doc_header"><code>unpin</code><a href="https://github.com/AlgoveraAI/ipfspy/tree/master/ipfspy/pinataapi.py#L185" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>unpin</code>(<strong><code>cred</code></strong>:<code>str</code>, <strong><code>cid</code></strong>:<code>str</code>)</p>
</blockquote>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>cred</code></strong></td>
<td><code>str</code></td>
<td></td>
<td>JWT Key</td>
</tr>
<tr>
<td><strong><code>cid</code></strong></td>
<td><code>str</code></td>
<td></td>
<td>IPFS CID</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Unpin IPFS CID</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">unpin</span><span class="p">(</span><span class="n">creds</span><span class="p">,</span><span class="s2">&quot;QmUUSHH2ycqciruPaRcptpUQDDeRiMV3G9PxA6KUupXTJV&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;Response [200]&gt;
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If IPFS CID isn't pinned. A 500 error message will be returned</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">unpin</span><span class="p">(</span><span class="n">creds</span><span class="p">,</span><span class="s2">&quot;QmZnxARhJWsCbTxiAzoRhnxHgMtoEkNJNS8DGLCBEMvm4V&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;Response [500]&gt;
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="edit_metadata" class="doc_header"><code>edit_metadata</code><a href="https://github.com/AlgoveraAI/ipfspy/tree/master/ipfspy/pinataapi.py#L201" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>edit_metadata</code>(<strong><code>cred</code></strong>:<code>str</code>, <strong><code>cid</code></strong>:<code>str</code>, <strong><code>name</code></strong>:<code>str</code>, <strong><code>metadata</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>cred</code></strong></td>
<td><code>str</code></td>
<td></td>
<td>JWT Key</td>
</tr>
<tr>
<td><strong><code>cid</code></strong></td>
<td><code>str</code></td>
<td></td>
<td>IPFS CID</td>
</tr>
<tr>
<td><strong><code>name</code></strong></td>
<td><code>str</code></td>
<td></td>
<td>filename</td>
</tr>
<tr>
<td><strong><code>metadata</code></strong></td>
<td></td>
<td><code>None</code></td>
<td>Add keys and values associated with IPFS CID</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Edit metadata of already pinned IPFS CID</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;Test&quot;</span><span class="p">}</span>

<span class="n">edit_metadata</span><span class="p">(</span><span class="n">creds</span><span class="p">,</span><span class="s2">&quot;bafybeibcsnxt2sqzsvfg4lzg3iuxkfit37l3rz5gqmdxwsgec56qalmxie&quot;</span><span class="p">,</span><span class="s2">&quot;name&quot;</span><span class="p">,</span><span class="n">metadata</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;Response [200]&gt;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If IPFS CID is not actively pinned. A 500 error message will be returned</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;Test&quot;</span><span class="p">}</span>

<span class="n">edit_metadata</span><span class="p">(</span><span class="n">creds</span><span class="p">,</span><span class="s2">&quot;QmUUSHH2ycqciruPaRcptpUQDDeRiMV3G9PxA6KUupXTJV&quot;</span><span class="p">,</span><span class="s2">&quot;name&quot;</span><span class="p">,</span><span class="n">metadata</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;Response [500]&gt;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_pinned_jobs" class="doc_header"><code>get_pinned_jobs</code><a href="https://github.com/AlgoveraAI/ipfspy/tree/master/ipfspy/pinataapi.py#L226" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_pinned_jobs</code>(<strong><code>cred</code></strong>:<code>str</code>, <strong><code>params</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>'sort' - Sort the results by the date added to the pinning queue (see value options below)
'ASC' - Sort by ascending dates
'DESC' - Sort by descending dates
'status' - Filter by the status of the job in the pinning queue (see potential statuses below)
'prechecking' - Pinata is running preliminary validations on your pin request.
'searching' - Pinata is actively searching for your content on the IPFS network. This may take some time if your content is isolated.
'retrieving' - Pinata has located your content and is now in the process of retrieving it.
'expired' - Pinata wasn't able to find your content after a day of searching the IPFS network. Please make sure your content is hosted on the IPFS network before trying to pin again.
'over_free_limit' - Pinning this object would put you over the free tier limit. Please add a credit card to continue pinning content.
'over_max_size' - This object is too large of an item to pin. If you're seeing this, please contact us for a more custom solution.
'invalid_object' - The object you're attempting to pin isn't readable by IPFS nodes. Please contact us if you receive this, as we'd like to better understand what you're attempting to pin.
'bad_host_node' - You provided a host node that was either invalid or unreachable. Please make sure all provided host nodes are online and reachable.
'ipfs_pin_hash' - Retrieve the record for a specific IPFS hash
'limit' - Limit the amount of results returned per page of results (default is 5, and max is 1000)
'offset' - Provide the record offset for records being returned. This is how you retrieve records on additional pages (default is 0)</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>cred</code></strong></td>
<td><code>str</code></td>
<td></td>
<td>JWT Key</td>
</tr>
<tr>
<td><strong><code>params</code></strong></td>
<td></td>
<td><code>None</code></td>
<td>filtering pinned jobs</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Retrieve pinned jobs. If there are pending pin jobs, they will be returned in json format.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">get_pinned_jobs</span><span class="p">(</span><span class="n">creds</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;count&#39;: 0, &#39;rows&#39;: []}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_pinned_files" class="doc_header"><code>get_pinned_files</code><a href="https://github.com/AlgoveraAI/ipfspy/tree/master/ipfspy/pinataapi.py#L257" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_pinned_files</code>(<strong><code>cred</code></strong>:<code>str</code>, <strong><code>params</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>Query Parameters = params</p>
<p>hashContains: (string) - Filter on alphanumeric characters inside of pin hashes. Hashes which do not include the characters passed in will not be returned.
pinStart: (must be in ISO_8601 format) - Exclude pin records that were pinned before the passed in 'pinStart' datetime.
pinEnd: (must be in ISO_8601 format) - Exclude pin records that were pinned after the passed in 'pinEnd' datetime.
unpinStart: (must be in ISO_8601 format) - Exclude pin records that were unpinned before the passed in 'unpinStart' datetime.
unpinEnd: (must be in ISO_8601 format) - Exclude pin records that were unpinned after the passed in 'unpinEnd' datetime.
pinSizeMin: (integer) - The minimum byte size that pin record you're looking for can have
pinSizeMax: (integer) - The maximum byte size that pin record you're looking for can have
status: (string) -</p>

<pre><code>* Pass in 'all' for both pinned and unpinned records
* Pass in 'pinned' for just pinned records (hashes that are currently pinned)
* Pass in 'unpinned' for just unpinned records (previous hashes that are no longer being pinned on pinata)
</code></pre>
<p>pageLimit: (integer) - This sets the amount of records that will be returned per API response. (Max 1000)
pageOffset: (integer) - This tells the API how far to offset the record responses. For example,
if there's 30 records that match your query, and you passed in a pageLimit of 10, providing a pageOffset of 10 would return records 11-20.</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>cred</code></strong></td>
<td><code>str</code></td>
<td></td>
<td>JWT Key</td>
</tr>
<tr>
<td><strong><code>params</code></strong></td>
<td></td>
<td><code>None</code></td>
<td>Filter returned pinned files</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Retrieve pinned files and use filtering arguments such as <code>hashContains</code> and <code>status</code> to filter by IPFS CID and get only the file that is pinned. Pinata keeps a log of all the times an IPFS CID is pinned and unpinned. Therefore, without the <code>status</code> filter multiple records would be returned.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">get_pinned_files</span><span class="p">(</span><span class="n">creds</span><span class="p">,</span><span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;hashContains&quot;</span><span class="p">:</span><span class="s2">&quot;bafybeibcsnxt2sqzsvfg4lzg3iuxkfit37l3rz5gqmdxwsgec56qalmxie&quot;</span><span class="p">,</span><span class="s2">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;pinned&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;count&#39;: 1,
 &#39;rows&#39;: [{&#39;id&#39;: &#39;a1a93991-99bc-4c12-9553-2e689046cf65&#39;,
   &#39;ipfs_pin_hash&#39;: &#39;bafybeibcsnxt2sqzsvfg4lzg3iuxkfit37l3rz5gqmdxwsgec56qalmxie&#39;,
   &#39;size&#39;: 3975284,
   &#39;user_id&#39;: &#39;d28f20cf-dfe0-4c8f-9272-26b9c2d8a3cd&#39;,
   &#39;date_pinned&#39;: &#39;2022-06-17T22:43:08.303Z&#39;,
   &#39;date_unpinned&#39;: None,
   &#39;metadata&#39;: {&#39;name&#39;: &#39;name&#39;,
    &#39;keyvalues&#39;: {&#39;Type&#39;: &#39;Test&#39;,
     &#39;type&#39;: &#39;Test&#39;,
     &#39;company&#39;: &#39;Pinata&#39;,
     &#39;filetype&#39;: &#39;json&#39;}},
   &#39;regions&#39;: [{&#39;regionId&#39;: &#39;NYC1&#39;,
     &#39;currentReplicationCount&#39;: 1,
     &#39;desiredReplicationCount&#39;: 1}]}]}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_datausage" class="doc_header"><code>get_datausage</code><a href="https://github.com/AlgoveraAI/ipfspy/tree/master/ipfspy/pinataapi.py#L289" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_datausage</code>(<strong><code>cred</code></strong>:<code>str</code>, <strong><code>params</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>cred</code></strong></td>
<td><code>str</code></td>
<td></td>
<td>JWT Key</td>
</tr>
<tr>
<td><strong><code>params</code></strong></td>
<td></td>
<td><code>None</code></td>
<td>Filter returned data usage statistics</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Retrieve data usage stats. The stats are in bytes.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">get_datausage</span><span class="p">(</span><span class="n">creds</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;pin_count&#39;: -223,
 &#39;pin_size_total&#39;: 349265187,
 &#39;pin_size_with_replications_total&#39;: 349265187}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

