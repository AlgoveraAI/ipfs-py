---

title: IPFSSpec


keywords: fastai
sidebar: home_sidebar

summary: "Read and Write implementation FSSpec for IPFS "
description: "Read and Write implementation FSSpec for IPFS "
nb_path: "nbs\01_ipfsspec.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs\01_ipfsspec.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="IPFSGateway">IPFSGateway<a class="anchor-link" href="#IPFSGateway"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="IPFSGateway" class="doc_header"><code>class</code> <code>IPFSGateway</code><a href="https://github.com/AlgoveraAI/ipfspy/tree/master/ipfspy/ipfsspec.py#L23" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>IPFSGateway</code>(<strong><code>local</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>coreurl</code></strong>:<code>str</code>=<em><code>None</code></em>)</p>
</blockquote>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>local</code></strong></td>
<td><code>bool</code></td>
<td><code>True</code></td>
<td>Use local IPFS deamon or not</td>
</tr>
<tr>
<td><strong><code>coreurl</code></strong></td>
<td><code>str</code></td>
<td><code>None</code></td>
<td>Core URL of an alterative gateways to use</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Using-IPFSGateway">Using IPFSGateway<a class="anchor-link" href="#Using-IPFSGateway"> </a></h3><p>Using local-node supports all function. Infura gateway supports both read and write but not the complete set as offered by the local-node. We have a list of read and read/write gateways. You can access them as such:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">GATEWAYS_API_READ</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;https://ipfs.io/api/v0&#39;,
 &#39;https://gateway.pinata.cloud/api/v0&#39;,
 &#39;https://cloudflare-ipfs.com/api/v0&#39;,
 &#39;https://dweb.link/api/v0&#39;,
 &#39;https://ipfs.eth.aragon.network/api/v0&#39;,
 &#39;https://permaweb.eu.org/api/v0&#39;,
 &#39;https://nftstorage.link/api/v0&#39;,
 &#39;https://ipfs.lain.la/api/v0&#39;,
 &#39;https://ipfs.mihir.ch/api/v0&#39;,
 &#39;https://ipfs.telos.miami/api/v0&#39;,
 &#39;https://jorropo.net/api/v0&#39;,
 &#39;https://cf-ipfs.com/api/v0&#39;,
 &#39;https://cloudflare-ipfs.com/api/v0&#39;,
 &#39;https://gateway.ipfs.io/api/v0&#39;,
 &#39;https://infura-ipfs.io/api/v0&#39;,
 &#39;https://via0.com/api/v0&#39;,
 &#39;https://ipfs.azurewebsites.net/api/v0&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">GATEWAYS_API_WRITE</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;https://ipfs.io/api/v0&#39;,
 &#39;https://gateway.pinata.cloud/api/v0&#39;,
 &#39;https://cloudflare-ipfs.com/api/v0&#39;,
 &#39;https://dweb.link/api/v0&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In this doc, we will be using the local-node unless specified.</p>
<p>Extending a client session using the local node.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gw</span> <span class="o">=</span> <span class="n">IPFSGateway</span><span class="p">(</span><span class="n">local</span><span class="o">=</span><span class="kc">True</span><span class="p">);</span> <span class="n">gw</span><span class="o">.</span><span class="n">url</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;http://127.0.0.1:5001/api/v0&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Extending a client session using infura.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gw</span> <span class="o">=</span> <span class="n">IPFSGateway</span><span class="p">(</span><span class="n">local</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span> <span class="n">gw</span><span class="o">.</span><span class="n">url</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;https://ipfs.infura.io:5001/api/v0&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Extending a client session using a public gateway.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gw</span> <span class="o">=</span> <span class="n">IPFSGateway</span><span class="p">(</span><span class="n">coreurl</span><span class="o">=</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">GATEWAYS_API_READ</span><span class="p">));</span> <span class="n">gw</span><span class="o">.</span><span class="n">url</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;https://jorropo.net/api/v0&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="IPFSGateway.get" class="doc_header"><code>IPFSGateway.get</code><a href="https://github.com/AlgoveraAI/ipfspy/tree/master/ipfspy/ipfsspec.py#L50" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>IPFSGateway.get</code>(<strong><code>cid</code></strong>:<code>str</code>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Get a file/directory from IPFS</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>cid</code></strong></td>
<td><code>str</code></td>
<td></td>
<td>Path to the IPFS object</td>
</tr>
<tr>
<td><strong><code>kwargs</code></strong></td>
<td></td>
<td></td>
<td><em>No Content</em></td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's use a local-node to get a IPFS file</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gw</span> <span class="o">=</span> <span class="n">IPFSGateway</span><span class="p">(</span><span class="n">local</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">res</span><span class="p">,</span> <span class="n">cont</span> <span class="o">=</span> <span class="n">gw</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;QmUfwG4P6EA5xbD3De5bS7XKcBion8ReQj7m9ZjxaPvq3B&#39;</span><span class="p">);</span> <span class="n">cont</span><span class="p">[</span><span class="mi">500</span><span class="p">:</span><span class="mi">700</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00# Welcome to Immerse by Algovera\r\n&gt; A python library by Algovera to interact with IPFS and IPFS ecosystem such as the common pinning services\r\n\r\n\r\n## What is Immerse?\r\n\r\nImmerse is a pytho&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Use the <code>cat</code> function which return the file without the headers and other stuffs that the <code>get</code> method returns.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="IPFSGateway.cat" class="doc_header"><code>IPFSGateway.cat</code><a href="https://github.com/AlgoveraAI/ipfspy/tree/master/ipfspy/ipfsspec.py#L68" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>IPFSGateway.cat</code>(<strong><code>cid</code></strong>:<code>str</code>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Read a file from IPFS</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>cid</code></strong></td>
<td><code>str</code></td>
<td></td>
<td>Path to the IPFS object</td>
</tr>
<tr>
<td><strong><code>kwargs</code></strong></td>
<td></td>
<td></td>
<td><em>No Content</em></td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">res</span><span class="p">,</span> <span class="n">cont</span> <span class="o">=</span> <span class="n">gw</span><span class="o">.</span><span class="n">cat</span><span class="p">(</span><span class="s1">&#39;QmUfwG4P6EA5xbD3De5bS7XKcBion8ReQj7m9ZjxaPvq3B&#39;</span><span class="p">);</span> <span class="n">cont</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;# Welcome to Immerse by Algovera\r\n&gt; A python library by Algovera to interact with IPFS and IPFS ecosystem such as the common pinning services\r\n\r\n\r\n## What is Immerse?\r\n\r\nImmerse is a python library by Algovera to interact with IPFS and IPFS ecosystem such as the common pinning services. It is designed by data scientists for data scientists to interact with the IPFS ecosystem without leaving the comfort of python and jupyter notebook.\r\n\r\nYou can learn more about IPFS [here](https://ipfs.io/#why)\r\n\r\nIPFS is built using the go-lang and javascript. With Immerse, you can interact with IPFS using the exposed [HTTP RPC API](https://docs.ipfs.io/reference/http/api/#getting-started). \r\n\r\nYou will need a local IPFS Node running to use the HTTP API (even when using Immerse). As an alternative, you can connect via the [Infura](https://infura.io/product/ipfs)\&#39;s dedicated IPFS gateway. Immerse provide both ways to interact with IPFS.\r\n\r\n## Installing\r\n\r\nto do: instructions on how to install library goes here\r\n\r\n## How to use\r\n\r\nTo adda file to IPFS, simply\r\n\r\n```python\r\nfrom immerse import httpapi\r\n\r\nurl = get_coreurl()\r\nresponse, json = add_items(url, &#34;path/to/file&#34;)\r\n```\r\n&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Like previously mentioned, infura supports read and write but not the complete set of functions that comes with the local node. Let's see an example. Here, the <code>ls</code> call lists the content of a directory. Let's try the same thing with <code>infura</code></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">r</span><span class="p">,</span> <span class="n">res</span> <span class="o">=</span> <span class="n">gw</span><span class="o">.</span><span class="n">apipost</span><span class="p">(</span><span class="n">call</span><span class="o">=</span><span class="s1">&#39;ls&#39;</span><span class="p">,</span> <span class="n">filepath</span><span class="o">=</span><span class="s1">&#39;QmebrNeK8XYZ6P3oFgftSR6FzBqLmy3rdMzLvT1476bSWA&#39;</span><span class="p">);</span> <span class="n">res</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[{&#39;Objects&#39;: [{&#39;Hash&#39;: &#39;QmebrNeK8XYZ6P3oFgftSR6FzBqLmy3rdMzLvT1476bSWA&#39;,
    &#39;Links&#39;: [{&#39;Name&#39;: &#39;.ipynb_checkpoints&#39;,
      &#39;Hash&#39;: &#39;QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn&#39;,
      &#39;Size&#39;: 0,
      &#39;Type&#39;: 1,
      &#39;Target&#39;: &#39;&#39;},
     {&#39;Name&#39;: &#39;adult_data.csv&#39;,
      &#39;Hash&#39;: &#39;QmZnxARhJWsCbTxiAzoRhnxHgMtoEkNJNS8DGLCBEMvm4V&#39;,
      &#39;Size&#39;: 3974475,
      &#39;Type&#39;: 2,
      &#39;Target&#39;: &#39;&#39;},
     {&#39;Name&#39;: &#39;fol1&#39;,
      &#39;Hash&#39;: &#39;QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn&#39;,
      &#39;Size&#39;: 0,
      &#39;Type&#39;: 1,
      &#39;Target&#39;: &#39;&#39;},
     {&#39;Name&#39;: &#39;test.txt&#39;,
      &#39;Hash&#39;: &#39;QmTT8vwdbnP9Ls8bSY1LMyW4a8bEwTYZa5izEoJMBtTPfb&#39;,
      &#39;Size&#39;: 24,
      &#39;Type&#39;: 2,
      &#39;Target&#39;: &#39;&#39;},
     {&#39;Name&#39;: &#39;test2.txt&#39;,
      &#39;Hash&#39;: &#39;QmWa7aPQWCkLAmV2pt1Wjj3uE7V3CG3KYMKBKsVAvWG649&#39;,
      &#39;Size&#39;: 23,
      &#39;Type&#39;: 2,
      &#39;Target&#39;: &#39;&#39;},
     {&#39;Name&#39;: &#39;test3.txt&#39;,
      &#39;Hash&#39;: &#39;Qmb6W6nVPYd5CJKFpC1zGGuoD7TYQLE5PGG1RHkHm2W3m9&#39;,
      &#39;Size&#39;: 32,
      &#39;Type&#39;: 2,
      &#39;Target&#39;: &#39;&#39;},
     {&#39;Name&#39;: &#39;test4.txt&#39;,
      &#39;Hash&#39;: &#39;QmWBXWXdo3fU6S35XBwHEVy9Trn2jYKtHWNALGZGTkmgr1&#39;,
      &#39;Size&#39;: 20,
      &#39;Type&#39;: 2,
      &#39;Target&#39;: &#39;&#39;}]}]}]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gw</span> <span class="o">=</span> <span class="n">IPFSGateway</span><span class="p">(</span><span class="n">local</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">r</span><span class="p">,</span> <span class="n">res</span> <span class="o">=</span> <span class="n">gw</span><span class="o">.</span><span class="n">apipost</span><span class="p">(</span><span class="n">call</span><span class="o">=</span><span class="s1">&#39;ls&#39;</span><span class="p">,</span> <span class="n">filepath</span><span class="o">=</span><span class="s1">&#39;QmebrNeK8XYZ6P3oFgftSR6FzBqLmy3rdMzLvT1476bSWA&#39;</span><span class="p">);</span> <span class="n">res</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-intense-fg ansi-bold">---------------------------------------------------------------------------</span>
<span class="ansi-red-intense-fg ansi-bold">HTTPError</span>                                 Traceback (most recent call last)
Input <span class="ansi-green-intense-fg ansi-bold">In [96]</span>, in <span class="ansi-cyan-fg">&lt;cell line: 3&gt;</span><span class="ansi-blue-intense-fg ansi-bold">()</span>
<span class="ansi-green-fg">      1</span> <span style="color: rgb(95,135,135)">#ignoretest</span>
<span class="ansi-green-fg">      2</span> gw <span style="color: rgb(98,98,98)">=</span> IPFSGateway(local<span style="color: rgb(98,98,98)">=</span><span class="ansi-bold" style="color: rgb(0,135,0)">False</span>)
<span class="ansi-green-intense-fg ansi-bold">----&gt; 3</span> r, res <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">gw</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">apipost</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">call</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">&#39;</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">ls</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">&#39;</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">filepath</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">&#39;</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">QmebrNeK8XYZ6P3oFgftSR6FzBqLmy3rdMzLvT1476bSWA</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">&#39;</span><span class="ansi-yellow-bg">)</span>; res

Input <span class="ansi-green-intense-fg ansi-bold">In [84]</span>, in <span class="ansi-cyan-fg">IPFSGateway.apipost</span><span class="ansi-blue-intense-fg ansi-bold">(self, call, filepath, directory, chunk_size, **kwargs)</span>
<span class="ansi-green-fg">    110</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">return</span> res, parse_response(res)
<span class="ansi-green-fg">    112</span> <span class="ansi-bold" style="color: rgb(0,135,0)">else</span>:
<span class="ansi-green-intense-fg ansi-bold">--&gt; 113</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">raise</span> HTTPError (parse_error_message(res))

<span class="ansi-red-intense-fg ansi-bold">HTTPError</span>: Response Status Code: 403; Error Message: ipfs method not supported
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As can be inferred from the error message, <code>ls</code> call is not supported by inura ar this point.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="IPFSFileSystem-(fsspec-like)">IPFSFileSystem (fsspec-like)<a class="anchor-link" href="#IPFSFileSystem-(fsspec-like)"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="IPFSFileSystem" class="doc_header"><code>class</code> <code>IPFSFileSystem</code><a href="https://github.com/AlgoveraAI/ipfspy/tree/master/ipfspy/ipfsspec.py#L147" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>IPFSFileSystem</code>(<strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>) :: <code>AbstractFileSystem</code></p>
</blockquote>
<p>An abstract super-class for pythonic file-systems</p>
<p>Implementations are expected to be compatible with or, better, subclass
from here.</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>local</code></strong></td>
<td><code>bool</code></td>
<td><code>True</code></td>
<td>Use local IPFS deamon or not</td>
</tr>
<tr>
<td><strong><code>coreurl</code></strong></td>
<td><code>str</code></td>
<td><code>None</code></td>
<td>Core URL of an alterative gateways to use</td>
</tr>
<tr>
<td><strong><code>kwargs</code></strong></td>
<td></td>
<td></td>
<td><em>No Content</em></td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Using-IPFSSpec">Using IPFSSpec<a class="anchor-link" href="#Using-IPFSSpec"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fs</span> <span class="o">=</span> <span class="n">IPFSFileSystem</span><span class="p">(</span><span class="n">local</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>call the <code>ls</code> method to list the directories</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">res</span> <span class="o">=</span> <span class="n">fs</span><span class="o">.</span><span class="n">ls</span><span class="p">(</span><span class="s1">&#39;QmZnxARhJWsCbTxiAzoRhnxHgMtoEkNJNS8DGLCBEMvm4V&#39;</span><span class="p">);</span> <span class="n">res</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[{&#39;name&#39;: &#39;QmZnxARhJWsCbTxiAzoRhnxHgMtoEkNJNS8DGLCBEMvm4V/&#39;,
  &#39;size&#39;: 262144,
  &#39;type&#39;: &#39;file&#39;},
 {&#39;name&#39;: &#39;QmZnxARhJWsCbTxiAzoRhnxHgMtoEkNJNS8DGLCBEMvm4V/&#39;,
  &#39;size&#39;: 262144,
  &#39;type&#39;: &#39;file&#39;},
 {&#39;name&#39;: &#39;QmZnxARhJWsCbTxiAzoRhnxHgMtoEkNJNS8DGLCBEMvm4V/&#39;,
  &#39;size&#39;: 262144,
  &#39;type&#39;: &#39;file&#39;},
 {&#39;name&#39;: &#39;QmZnxARhJWsCbTxiAzoRhnxHgMtoEkNJNS8DGLCBEMvm4V/&#39;,
  &#39;size&#39;: 262144,
  &#39;type&#39;: &#39;file&#39;},
 {&#39;name&#39;: &#39;QmZnxARhJWsCbTxiAzoRhnxHgMtoEkNJNS8DGLCBEMvm4V/&#39;,
  &#39;size&#39;: 262144,
  &#39;type&#39;: &#39;file&#39;},
 {&#39;name&#39;: &#39;QmZnxARhJWsCbTxiAzoRhnxHgMtoEkNJNS8DGLCBEMvm4V/&#39;,
  &#39;size&#39;: 262144,
  &#39;type&#39;: &#39;file&#39;},
 {&#39;name&#39;: &#39;QmZnxARhJWsCbTxiAzoRhnxHgMtoEkNJNS8DGLCBEMvm4V/&#39;,
  &#39;size&#39;: 262144,
  &#39;type&#39;: &#39;file&#39;},
 {&#39;name&#39;: &#39;QmZnxARhJWsCbTxiAzoRhnxHgMtoEkNJNS8DGLCBEMvm4V/&#39;,
  &#39;size&#39;: 262144,
  &#39;type&#39;: &#39;file&#39;},
 {&#39;name&#39;: &#39;QmZnxARhJWsCbTxiAzoRhnxHgMtoEkNJNS8DGLCBEMvm4V/&#39;,
  &#39;size&#39;: 262144,
  &#39;type&#39;: &#39;file&#39;},
 {&#39;name&#39;: &#39;QmZnxARhJWsCbTxiAzoRhnxHgMtoEkNJNS8DGLCBEMvm4V/&#39;,
  &#39;size&#39;: 262144,
  &#39;type&#39;: &#39;file&#39;},
 {&#39;name&#39;: &#39;QmZnxARhJWsCbTxiAzoRhnxHgMtoEkNJNS8DGLCBEMvm4V/&#39;,
  &#39;size&#39;: 262144,
  &#39;type&#39;: &#39;file&#39;},
 {&#39;name&#39;: &#39;QmZnxARhJWsCbTxiAzoRhnxHgMtoEkNJNS8DGLCBEMvm4V/&#39;,
  &#39;size&#39;: 262144,
  &#39;type&#39;: &#39;file&#39;},
 {&#39;name&#39;: &#39;QmZnxARhJWsCbTxiAzoRhnxHgMtoEkNJNS8DGLCBEMvm4V/&#39;,
  &#39;size&#39;: 262144,
  &#39;type&#39;: &#39;file&#39;},
 {&#39;name&#39;: &#39;QmZnxARhJWsCbTxiAzoRhnxHgMtoEkNJNS8DGLCBEMvm4V/&#39;,
  &#39;size&#39;: 262144,
  &#39;type&#39;: &#39;file&#39;},
 {&#39;name&#39;: &#39;QmZnxARhJWsCbTxiAzoRhnxHgMtoEkNJNS8DGLCBEMvm4V/&#39;,
  &#39;size&#39;: 262144,
  &#39;type&#39;: &#39;file&#39;},
 {&#39;name&#39;: &#39;QmZnxARhJWsCbTxiAzoRhnxHgMtoEkNJNS8DGLCBEMvm4V/&#39;,
  &#39;size&#39;: 42315,
  &#39;type&#39;: &#39;file&#39;}]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Use the <code>open</code> and <code>read</code> on a IPFS file</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fs</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;QmUfwG4P6EA5xbD3De5bS7XKcBion8ReQj7m9ZjxaPvq3B&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>b&#39;# Welcome to Immerse by Algovera\r\n&gt; A python library by Algovera to interact with IPFS and IPFS ecosystem such as the common pinning services\r\n\r\n\r\n## What is Immerse?\r\n\r\nImmerse is a python library by Algovera to interact with IPFS and IPFS ecosystem such as the common pinning services. It is designed by data scientists for data scientists to interact with the IPFS ecosystem without leaving the comfort of python and jupyter notebook.\r\n\r\nYou can learn more about IPFS [here](https://ipfs.io/#why)\r\n\r\nIPFS is built using the go-lang and javascript. With Immerse, you can interact with IPFS using the exposed [HTTP RPC API](https://docs.ipfs.io/reference/http/api/#getting-started). \r\n\r\nYou will need a local IPFS Node running to use the HTTP API (even when using Immerse). As an alternative, you can connect via the [Infura](https://infura.io/product/ipfs)\&#39;s dedicated IPFS gateway. Immerse provide both ways to interact with IPFS.\r\n\r\n## Installing\r\n\r\nto do: instructions on how to install library goes here\r\n\r\n## How to use\r\n\r\nTo adda file to IPFS, simply\r\n\r\n```python\r\nfrom immerse import httpapi\r\n\r\nurl = get_coreurl()\r\nresponse, json = add_items(url, &#34;path/to/file&#34;)\r\n```\r\n&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>Write</code> a file, files or a directory to IPFS</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fs</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;output&#39;</span><span class="p">,</span> <span class="n">directory</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(&lt;Response [200]&gt;,
 [{&#39;Name&#39;: &#39;output/adult_data.csv&#39;,
   &#39;Hash&#39;: &#39;QmZnxARhJWsCbTxiAzoRhnxHgMtoEkNJNS8DGLCBEMvm4V&#39;,
   &#39;Size&#39;: &#39;3975476&#39;},
  {&#39;Name&#39;: &#39;output/test.txt&#39;,
   &#39;Hash&#39;: &#39;QmTT8vwdbnP9Ls8bSY1LMyW4a8bEwTYZa5izEoJMBtTPfb&#39;,
   &#39;Size&#39;: &#39;32&#39;},
  {&#39;Name&#39;: &#39;output/test2.txt&#39;,
   &#39;Hash&#39;: &#39;QmWa7aPQWCkLAmV2pt1Wjj3uE7V3CG3KYMKBKsVAvWG649&#39;,
   &#39;Size&#39;: &#39;31&#39;},
  {&#39;Name&#39;: &#39;output/test3.txt&#39;,
   &#39;Hash&#39;: &#39;Qmb6W6nVPYd5CJKFpC1zGGuoD7TYQLE5PGG1RHkHm2W3m9&#39;,
   &#39;Size&#39;: &#39;40&#39;},
  {&#39;Name&#39;: &#39;output/fol1&#39;,
   &#39;Hash&#39;: &#39;QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn&#39;,
   &#39;Size&#39;: &#39;4&#39;},
  {&#39;Name&#39;: &#39;output&#39;,
   &#39;Hash&#39;: &#39;QmeyTiqrD6oo4eQXbAt7hZn3ASzpcP3Kvb1rc9qznEowEw&#39;,
   &#39;Size&#39;: &#39;3975844&#39;}])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Read a csv straight from IPFS into a <code>pandas</code> object</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">fs</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;QmZnxARhJWsCbTxiAzoRhnxHgMtoEkNJNS8DGLCBEMvm4V&#39;</span><span class="p">);</span> <span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>workclass</th>
      <th>fnlwgt</th>
      <th>education</th>
      <th>education-num</th>
      <th>marital-status</th>
      <th>occupation</th>
      <th>relationship</th>
      <th>race</th>
      <th>sex</th>
      <th>capital-gain</th>
      <th>capital-loss</th>
      <th>hours-per-week</th>
      <th>native-country</th>
      <th>salary</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>39</td>
      <td>State-gov</td>
      <td>77516</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Never-married</td>
      <td>Adm-clerical</td>
      <td>Not-in-family</td>
      <td>White</td>
      <td>Male</td>
      <td>2174</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>1</th>
      <td>50</td>
      <td>Self-emp-not-inc</td>
      <td>83311</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Married-civ-spouse</td>
      <td>Exec-managerial</td>
      <td>Husband</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>13</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>2</th>
      <td>38</td>
      <td>Private</td>
      <td>215646</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Divorced</td>
      <td>Handlers-cleaners</td>
      <td>Not-in-family</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>3</th>
      <td>53</td>
      <td>Private</td>
      <td>234721</td>
      <td>11th</td>
      <td>7</td>
      <td>Married-civ-spouse</td>
      <td>Handlers-cleaners</td>
      <td>Husband</td>
      <td>Black</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>4</th>
      <td>28</td>
      <td>Private</td>
      <td>338409</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Married-civ-spouse</td>
      <td>Prof-specialty</td>
      <td>Wife</td>
      <td>Black</td>
      <td>Female</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>Cuba</td>
      <td>&lt;=50K</td>
    </tr>
  </tbody>
</table>
</div></div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Similarly, read a json straight from IPFS into a <code>pandas</code> object</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">fs</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="s1">&#39;QmaQ3MEK664wo8DQUu8okvGF3EaQivE8e2a7cfS3Lpqr8e&#39;</span><span class="p">);</span> <span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sepalLength</th>
      <th>sepalWidth</th>
      <th>petalLength</th>
      <th>petalWidth</th>
      <th>species</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>5.1</td>
      <td>3.5</td>
      <td>1.4</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>1</th>
      <td>4.9</td>
      <td>3.0</td>
      <td>1.4</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4.7</td>
      <td>3.2</td>
      <td>1.3</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4.6</td>
      <td>3.1</td>
      <td>1.5</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5.0</td>
      <td>3.6</td>
      <td>1.4</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
  </tbody>
</table>
</div></div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

